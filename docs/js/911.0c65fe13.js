(self["webpackChunkecp_restaurants"]=self["webpackChunkecp_restaurants"]||[]).push([[911],{9911:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>Z});var o=a(3673);const n=(0,o._)("div",{style:{"min-height":"inherit"},id:"map"},null,-1);function s(t,e,a,s,r,l){const i=(0,o.up)("RestaurantSearch"),u=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(i,{map:r.map},null,8,["map"]),n])),_:1})}a(71);var r=a(4306),l=a(7936),i=a.n(l);const u=(0,o.Uk)(" No results ");function c(t,e,a,n,s,r){const l=(0,o.up)("q-item-section"),i=(0,o.up)("q-item"),c=(0,o.up)("q-select");return(0,o.wg)(),(0,o.j4)(c,{clearable:"","hide-bottom-space":"","use-input":"","hide-selected":"","fill-input":"",class:"restaurant_search","bg-color":"white",rounded:"",outlined:"",modelValue:s.selectedRestaurant,"onUpdate:modelValue":e[0]||(e[0]=t=>s.selectedRestaurant=t),"input-debounce":"5",label:"Favorites",options:s.restaurantOptions,onFilter:r.filterRestaurants,style:{width:"300px"}},{"no-option":(0,o.w5)((()=>[(0,o.Wm)(i,null,{default:(0,o.w5)((()=>[(0,o.Wm)(l,{class:"text-grey"},{default:(0,o.w5)((()=>[u])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])}var p=a(3617);const A={name:"RestaurantSearch",props:{map:{type:Object}},data(){return{restaurantOptions:[],selectedRestaurant:null}},computed:{...(0,p.Se)(["getRestaurantNames"])},watch:{selectedRestaurant(t){t&&this.map.flyTo({center:t.value,zoom:15,speed:10})}},methods:{filterRestaurants(t,e,a){this.restaurantOptions=this.getRestaurantNames,e((()=>{const e=t.toLowerCase();this.restaurantOptions=this.getRestaurantNames.filter((t=>t.label.toLowerCase().indexOf(e)>-1))}))}}};var d=a(4260),h=a(2310),g=a(3414),m=a(2035),f=a(7518),q=a.n(f);const w=(0,d.Z)(A,[["render",c],["__scopeId","data-v-02f9e650"]]),b=w;q()(A,"components",{QSelect:h.Z,QItem:g.Z,QItemSection:m.Z});var C=a(1488);const v={name:"Map",components:{RestaurantSearch:b},data(){return{map:{},loaded:!1}},mounted:async function(){this.initMap()},computed:{...(0,C.vn)(["restaurants"])},watch:{},methods:{initMap:function(){const t=this.map=new r.Map({container:"map",style:"https://api.maptiler.com/maps/4d8cab88-aff1-44d6-bf53-38f4fbbb1687/style.json?key=QyoptGwrlYh4i6RgsCDC",minzoom:8,center:[-105,39.75],zoom:10});t.addControl(new r.NavigationControl,"top-right"),t.addControl(new r.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0})),t.loadImage(i(),(function(e,a){if(e)throw e;t.addImage("restaurant_pin",a)}));let e=null;t.on("click",(()=>{null!==e&&t.setFeatureState({source:"restaurants",id:e},{hover:!1}),e=null}));const a=["restaurants","restaurants-labels"];a.forEach((a=>{t.on("mousemove",a,(function(){t.getCanvas().style.cursor="pointer"})),t.on("mouseleave",a,(function(){t.getCanvas().style.cursor=""})),t.on("click",a,(function(a){a.features.length>0&&(null!==e&&t.setFeatureState({source:"restaurants",id:e},{hover:!1}),e=a.features[0].id,t.setFeatureState({source:"restaurants",id:e},{hover:!0}));let o=a.lngLat,n=a.features[0].properties,s="";Object.entries(n).reduce(((t,[e,a])=>{s+="<b>"+e+":</b> "+a+"</br>"}),{}),new r.Popup({anchor:"bottom",offset:[0,0]}).setLngLat(o).setHTML(s).addTo(t)}))})),t.on("load",(()=>{this.loaded=!0,t.addSource("restaurants",{type:"geojson",data:this.restaurants,generateId:!0}),t.addLayer({id:"restaurants",type:"symbol",source:"restaurants",layout:{"icon-image":"restaurant_pin","icon-size":["interpolate",["linear"],["zoom"],8,.6,18,1],visibility:"visible","icon-offset":[0,-5],"icon-ignore-placement":!0,"icon-allow-overlap":!0},filter:["==","$type","Point"]}),t.addLayer({id:"restaurants-labels",type:"symbol",source:"restaurants",minzoom:10.5,layout:{"text-font":["literal",["Arial Unicode MS Bold"]],"text-field":["get","Place"],"text-variable-anchor":["left","right","top","bottom"],"text-radial-offset":.5,"text-justify":"auto","text-size":["interpolate",["linear"],["zoom"],10,9,15,14],"text-letter-spacing":.08,"text-max-width":10,"text-padding":5,"text-allow-overlap":["step",["zoom"],!1,12.5,!0],"text-ignore-placement":!1},paint:{"text-halo-color":["case",["boolean",["feature-state","hover"],!1],"#34c9eb","#f6f6f4"],"text-color":"rgba(13, 14, 14, 1)","text-halo-width":2,"text-halo-blur":2}})}))}}};var y=a(4379);const E=(0,d.Z)(v,[["render",s]]),Z=E;q()(v,"components",{QPage:y.Z})},7936:t=>{t.exports="data:image/png;base64,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"}}]);